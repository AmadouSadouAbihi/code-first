pool:
  vmImage: ubuntu-latest

steps:
- task: NuGetCommand@2
  displayName: 'Restore nuget packages'

- task: MSBuild@1
  displayName: 'Build the project'

- task: DotNetCoreCLI@2
  displayName: 'Initialize EntityFrameworkCore'
  inputs:
    command: custom
    custom: tool
    arguments: 'install --global dotnet-ef'
    
- task: DotNetCoreCLI@2
  displayName: 'Migrate the database'
  inputs:
    command: custom
    custom: ef
    arguments: 'database update'
